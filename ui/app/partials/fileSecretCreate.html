<div ng-controller="FileSecretCreateCtrl">
  <form class="form-horizontal" ng-submit="create(name, description, metadata)">
    <div class="modal-body">
      <div class="form-group">
        <label class="col-sm-3 control-label">Name</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" placeholder="Name" ng-model="name" required>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">Content</label>
        <div class="col-sm-9">
          <!-- AngularJS does not yet support file type inputs: https://github.com/angular/angular.js/issues/757 -->
          <!--<input type="file" onchange="angular.element(this).scope().readFile(this.files[0])" required>-->
          <!-- Bootstrap has an ugly file type displays, so a pretty button triggers the hidden input. -->
          <input class="hide" id="fileInput" type="file"
          onchange="angular.element(this).scope().readFile(this.files[0])">
          <a class="btn btn-default" onclick="$('input[id=fileInput]').click();">Choose File</a>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">Description</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" placeholder="Description" ng-model="description" required>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label">Metadata</label>
        <div class="col-sm-9">
          <input type="text" class="form-control" placeholder="JSON String" ng-model="metadata">
        </div>
      </div>
    </div>

    <p class="alert alert-error" ng-show="errorMessage">{{errorMessage}}</p>

    <ng-include src="'partials/modalFooter.html'"></ng-include>
  </form>
</div>
